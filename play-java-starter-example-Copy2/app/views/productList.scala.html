<<<<<<< HEAD
@(products: List[models.Product], user: models.users.User, env: play.api.Enviroment)
=======
@(products: List[models.Product], categoryList:List[models.Category], user: models.users.User)
>>>>>>> d7cae1edff2359527dd039e49721f832ca98d2c4
@main("Product List", user){

@if(flash.containsKey("success")){
<div class="alert alert-succes">
    @flash.get("success")
</div>
}
<style>



</style>

<!-- Insert filters here -->
<div class="col-sm-3">
    <h4>Categories</h4>
        <ul class="list-group">
                <a href = "@routes.ProductController.productList(0)" class="list-group-item">All Categories</a>
            @for(c<-categoryList) {
                <a href = "@routes.ProductController.productList(c.getCategoryID())" class="list-group-item catheight">@c.getCategoryName
                    <span class="badge">@c.getProducts.size</span> 
                </a>
            }
        </ul>
</div>

<div class="col-sm-9">
    <h4>List of all available products</h4>
    
    <table class="table table-bordered table-condensed" style="border: 1px solid #337ab7;">
        <thead class="thead-dark"> 
                <tr>
<<<<<<< HEAD
                    <th>Image</th>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>In Stock</th>
                    <th>Rating</th>
                    <th>Price</th>
=======
                    <th  >Image</th>
                    <th  >ID</th>
                    <th  >Name</th>
                    <th>Category</th>
                    <th  >Description</th>
                    <th  >In Stock</th>
                    <th  >Rating</th>
                    <th  >Price</th>
>>>>>>> d7cae1edff2359527dd039e49721f832ca98d2c4
                </tr>
        </thead>
        <!-- Product row(s) -->
        <div class = "table">
                <tbody>
                        <!-- Product row(s) -->
            
                        @* Loop for creating table rows from Product data *@
                        @for(p<-products) { 
                            <tr>
                                if(env.resource("public/images/productImages/" + p.getProductID + "thumbnail.jpg").isDefined){
                                    <td><img src="/assets/images/productImages/@(p.getProductID + "thumbnail.jpg")"/></td>
                                } else {
                                    <td><img src="/assets/images/productImages/noImage.jpg"/></td>
                                }
                                <td>@p.getProductID</td>
                                <td>@p.getProductName</td>
                                <td>@p.getCategory.getCategoryName</td>
                                <td>@p.getProductDescription</td>
                                <td>@p.getProductQty</td>
                                <td>@p.getOverallRating</td>
                                <td>&euro; @("%.2f".format(p.getProductPrice))</td>
                                <!-- update button -->
                                    <td>
                                        <a href="@routes.HomeController.index()" class="button-xs btn-danger">
                                            <span class="glyphicon glyphicon-pencil"></span>
                                        </a>
                                    </td>
                                <!-- end of update button -->

                                <td>
                                    <a href="@routes.ProductController.deleteItem(p.getProductID)" class="button-xs btn-danger">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </a>
                                </td>

                            </tr>
                            }
            
                    </tbody>
        </div>

       
    </table>
     <!--update and delete buttons here-->
    <input type="button" value="Add Product" class="btn btn-primary"
    onclick="window.location.href = '@routes.ProductController.addProduct()';">

</div>
}
