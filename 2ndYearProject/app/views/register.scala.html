@(userForm: Form[models.users.User], user: models.users.User)
@import helper._

@main("Register", user) {
  
    @if(userForm.hasGlobalErrors) {
        <p class="alert alert-warning">
            @for(e
            <- userForm.globalErrors) { @e.message<br/> 
            }
            <!-- Make  -->
        </p>
    }

    @* Display error message from flash *@
    @if(flash.containsKey("error")) {
        <div class="alert alert-danger">
            @flash.get("error")
        </div>
    }
    
    @helper.form(action=controllers.routes.LoginController.registerSubmit(), 'class -> "form-horizontal", 'role -> "form", onsubmit="return checkPass(this)") {
        @* CSRF attack prevention *@
        @CSRF.formField
        
   <div class="box">

       <h1>Register</h1>

                @inputText(userForm("email"), '_label -> "",
                'class -> "input", 'placeholder -> "Email")
            
                @inputText(userForm("username"), '_label -> "",
                'class -> "input", 'placeholder -> "Username")
           
                @inputPassword(userForm("password"), '_label -> "",
                'class -> "input", 'placeholder -> "Password")
           
                @inputPassword(userForm("password"), '_label -> "",
                'class -> "input", 'placeholder -> "Confirm Password")
         
                @inputText(userForm("address"), '_label -> "",
                'class -> "input", 'placeholder -> "Address")
    
                @inputText(userForm("mobileNumber"), '_label -> "",
                'class -> "input", 'placeholder -> "Mobile Number")
            
            @inputText(userForm("role").copy(value=Some("customer")), '_label -> "", 'hidden -> "hidden")
       
   
            <input type="submit" value="Sign up" class="btn"/>
            
            <input type="button" value="Cancel" class="btn"
            onclick="window.location.href = '@routes.LoginController.login()';">
            
        </div>
    }
}